<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="lib/d3.min.js"></script>
        <script type="text/javascript" src="src/math.js"></script>
        <script type="text/javascript" src="src/graphs.js"></script>
    </head>

    <style>
        text {
            text-anchor: end;
        }
    </style>

    <body>
        <p>Hello, D3 world!</p>
        <input type="file" id="files"  names="files[]" multiple />
        <output id="list" ></output>
        <table>
            <tr>
                <td>Name Party 1:</td>
                <td>
                    <input name="b_name_input" id="b_name_input" type="text" value="Bob" />
                </td>
            </tr>
            <tr>
                <td>Name Party 2:</td>
                <td>
                    <input name="k_name_input" id="k_name_input" type="text" value="Kate" />
                </td>
            </tr>
            <tr>
                <td>Id Party 1:</td>
                <td>
                    <input name="b_ids_input" id="b_ids_input" type="text" value="23" />
                </td>
            </tr>
            <tr>
                <td>Id Party 2:</td>
                <td>
                    <input name="k_ids_input" id="k_ids_input" type="text" value="20" />
                </td>
            </tr>
        </table>

        <div id="graph0_wrapper">
            <p id="num_msgs">Total Number of Messages</p>
            <svg width="760"  height="140" >
                <g id="graph0_bars" transform="translate(70, 30)" >
                </g>
                <g id="graph0_labels" transform="translate(70, 30)" >
                </g>
            </svg>
        </div>

        <div id="graph1_wrapper" >
            <p id="num_msgs">Mesages per time of day</p>
            <svg id="graph1" width="1300"  height="500">
                <g id="graph1_bars">
                </g>
                <g id="graph1_labels">
                </g>
            </svg>
        </div>

        <div id="graph2_wrapper" >
            <p> Messages over the year</p>
            <svg id="graph2" width="760"  height="20" >
                <g id="graph2_bars" transform="translate(70, 0)" >
                </g>
                <g id="graph2_labels" transform="translate(70, 0)">
                </g>
            </svg>
        </div>

        <div id="graph3_wrapper" >
            <p> Top used words</p>
            <div id="graph3">
            </div>
        </div>

        <div id="graph4_wrapper" >
            <p> Top used Emoji's</p>
            <svg id="graph4" width="500" height="500">
            </svg >
        </div>

    </body>

    <script>
     document.getElementById('k_ids_input').oninput = function() {
         k_ids = string_to_int_array(document.getElementById('k_ids_input').value);
     };

     document.getElementById('b_ids_input').oninput = function() {
         b_ids = string_to_int_array(document.getElementById('b_ids_input').value);
     };

     document.getElementById('b_name_input').oninput = function() {
         b_name = document.getElementById('b_name_input').value;
     };

     document.getElementById('k_name_input').oninput = function() {
         k_name = document.getElementById('k_name_input').value;
     };

     document.getElementById('files').addEventListener('change', handleFileSelect, false);
    </script>
</html>
